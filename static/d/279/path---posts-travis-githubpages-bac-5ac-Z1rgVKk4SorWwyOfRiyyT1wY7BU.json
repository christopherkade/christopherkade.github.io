{"data":{"markdownRemark":{"id":"efcb691d-08ef-5dab-9929-730fe24c3f15","html":"<p><strong>Travis CI</strong> is a continuous integration service used to build and test software hosted on Github.<br>\nIn this blog post I’ll briefly cover the subject of Continuous Integration and explain step by step how to deploy your project to Github pages using Travis.</p>\n<p>Table of contents:</p>\n<ul>\n<li><a href=\"#ci\">What is Continuous Integration?</a></li>\n<li>\n<p><a href=\"#howto\">How to deploy a website to Github pages using Travis CI</a></p>\n<ul>\n<li><a href=\"#activate\">Activate Travis on your Github repository</a></li>\n<li><a href=\"#configure\">Configure the CI process for your repository</a></li>\n<li><a href=\"#trigger\">Trigger your first Travis CI build</a></li>\n</ul>\n</li>\n</ul>\n<p><br><br></p>\n<h2 id=\"a-namecia-what-is-continuous-integration\"><a href=\"#a-namecia-what-is-continuous-integration\" aria-label=\"a namecia what is continuous integration permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a name=\"ci\"></a> What is Continuous Integration?</h2>\n<p>Continuous Integration, or CI for short is the development practice of automating the build and testing of code every time a team member commits changes to their version control system.</p>\n<p>This diagram represents the process pretty well:</p>\n<p align=\"center\">\n  <img width=\"90%\" height=\"90%\" src=\"https://user-images.githubusercontent.com/15229355/47021076-04f20880-d15b-11e8-8667-1dada62a08af.png\">\n</p>\n<p><br><br></p>\n<h2 id=\"a-namehowtoa-how-to-deploy-a-website-to-github-pages-using-travis-ci\"><a href=\"#a-namehowtoa-how-to-deploy-a-website-to-github-pages-using-travis-ci\" aria-label=\"a namehowtoa how to deploy a website to github pages using travis ci permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a name=\"howto\"></a> How to deploy a website to Github pages using Travis CI</h2>\n<p>In my specific case, I wanted to automate the deployment process for the website you’re currently visiting.<br>\nIn other words, for each new article or change to the website itself, I wanted to test, build and deploy it to Github pages to keep it up to date.</p>\n<p>I turned to Travis CI for multiple reasons, it’s free, easy to set up and the web client is practical.</p>\n<p>So, how did I do exactly what I wanted?</p>\n<br>\n<h3 id=\"a-nameactivatea-step-1-activate-travis-on-your-github-repository\"><a href=\"#a-nameactivatea-step-1-activate-travis-on-your-github-repository\" aria-label=\"a nameactivatea step 1 activate travis on your github repository permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a name=\"activate\"></a> Step 1: Activate Travis on your Github repository</h3>\n<ul>\n<li>\n<p>Simply go to Travis-ci.com and Sign up with Github.</p>\n</li>\n<li>\n<p>Accept the Authorization of Travis CI. You’ll be redirected to GitHub.</p>\n</li>\n<li>\n<p>Click the green Activate button, and activate the repositories you want to use with Travis CI.</p>\n</li>\n</ul>\n<br>\n<h3 id=\"a-nameconfigurea-step-2-configure-the-ci-process-for-your-repository\"><a href=\"#a-nameconfigurea-step-2-configure-the-ci-process-for-your-repository\" aria-label=\"a nameconfigurea step 2 configure the ci process for your repository permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a name=\"configure\"></a> Step 2: Configure the CI process for your repository</h3>\n<p>To do so, add a <code class=\"language-text\">.travis.yml</code> file at the <strong>root</strong> of your repository, this file will basically tell Travis what to do and in what order.<br>\nThankfully, the process is simplified, especially when it comes to deploying to Github pages, take a look at this example:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># Important for the Travis container set up</span>\n<span class=\"token key atrule\">language</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'node_js'</span> <span class=\"token comment\"># Language used by the project</span>\n<span class=\"token key atrule\">node_js</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'8'</span> <span class=\"token comment\"># Node version used</span>\n\n<span class=\"token key atrule\">cache</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">directories</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">'node_modules'</span> <span class=\"token comment\"># Travis will cache node_modules so it doesn't reinstall them every time</span>\n\n<span class=\"token comment\"># Lifecycle job, will execute the actions bellow before the build and deployment.</span>\n<span class=\"token comment\"># Find other build lifecycle hooks here: https://docs.travis-ci.com/user/job-lifecycle</span>\n<span class=\"token key atrule\">before_script</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> npm run lint\n\n<span class=\"token comment\"># This is where the magic happens, Travis handles Github pages deployment automatically</span>\n<span class=\"token key atrule\">deploy</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span> pages <span class=\"token comment\"># Tells Travis we're deploying on Github Pages</span>\n  <span class=\"token key atrule\">skip-cleanup</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true </span><span class=\"token comment\"># Make sure you have it set to true</span>\n  <span class=\"token key atrule\">github-token</span><span class=\"token punctuation\">:</span> $GITHUB_TOKEN <span class=\"token comment\"># See notes bellow</span>\n  <span class=\"token key atrule\">local_dir</span><span class=\"token punctuation\">:</span> dist <span class=\"token comment\"># The directory to deploy</span>\n  <span class=\"token key atrule\">repo</span><span class=\"token punctuation\">:</span> github_username/repository_name <span class=\"token comment\"># For example christopherkade/christopherkade.github.io</span>\n  <span class=\"token key atrule\">target_branch</span><span class=\"token punctuation\">:</span> master <span class=\"token comment\"># Branch to be deployed on</span>\n  <span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branch</span><span class=\"token punctuation\">:</span> code <span class=\"token comment\"># Deployement only triggered when code is pushed on the code branch</span></code></pre></div>\n<p>Note that the <code class=\"language-text\">$GITHUB_TOKEN</code> must be set up directly in the repository’s Settings on the Travis client.</p>\n<p>To get that token, follow these brief <a href=\"https://docs.travis-ci.com/user/deployment/pages/#setting-the-github-token\">instructions</a>.</p>\n<br>\n<h3 id=\"step-3-a-nametriggera-trigger-your-first-travis-ci-build\"><a href=\"#step-3-a-nametriggera-trigger-your-first-travis-ci-build\" aria-label=\"step 3 a nametriggera trigger your first travis ci build permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 3: <a name=\"trigger\"></a> Trigger your first Travis CI build</h3>\n<p>To do so, start by adding, committing and pushing your <code class=\"language-text\">.travis.yml</code> file to Git.<br>\nYou can now go back to the Travis client and see your build status.</p>\n<p>If said build fails for reasons you cannot understand through the logs, feel free to check out <a href=\"https://docs.travis-ci.com/user/common-build-problems/\">common build problems</a>.</p>\n<p>If not, your Github page is now up and running thanks to the <code class=\"language-text\">deploy</code> statement in your configuration file. The deployment is visible as one of the very last logs of your build.</p>\n<p>I hope this was useful to some of you, as discovering CI has truly made my development process more enjoyable as a whole.</p>\n<p>Have a good one :-)<br>\n<a href=\"https://twitter.com/christo_kade\">@christo_kade</a></p>","fields":{"slug":"/posts/travis-githubpages","tagSlugs":["/tag/tutorial/"]},"frontmatter":{"date":"2018-10-15","description":"Set up a deployment pipeline in a few lines of configuration.","tags":["Tutorial"],"title":"Automatically deploying a website to Github pages using Travis CI"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/travis-githubpages"}}