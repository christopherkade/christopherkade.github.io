{"data":{"markdownRemark":{"id":"240795c5-9065-57e8-ae3c-a5561e9a2032","html":"<p>Iâ€™ll be presenting this super fun subject tomorrow during a BBL so I might as well write about it to consolidate what Iâ€™ve found.</p>\n<p>Weâ€™ll be talking about Web APIs introduced by HTML5 in the last few years, these will allow you to add new user experiences to your applications in a few lines of code and have a lot of potential. For each API, Iâ€™ll show how to implement it, its browser support and ideas on how to use them in concrete projects.</p>\n<br>\n<h2 id=\"page-visibility-\"><a href=\"#page-visibility-\" aria-label=\"page visibility  permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Page Visibility ðŸ‘€</h2>\n<p>This one allows you to know if the page is currently visible to the user by catching the following event:</p>\n<img style=\"max-width: 100%\" src=\"https://s3.amazonaws.com/media-p.slid.es/uploads/986999/images/5913262/carbon.png\">\n<p>As you can see, itâ€™s trivial to implement and has rather good browser support:</p>\n<img style=\"max-width: 100%\" src=\"https://s3.amazonaws.com/media-p.slid.es/uploads/986999/images/5906929/page-visibility-support.png\">\n<p>Which makes it ready for production on most applications. </p>\n<p>Hereâ€™s a small <a href=\"https://christopherkade.com/visibility-api-demo/\">demo</a> I made that shows one use case of this API: whenever you leave the current tab, the video pauses and the favicon changes to reflect that.</p>\n<p>Iâ€™m sure you already have a thousand other ideas on how to implement this API but hereâ€™s my two cent:</p>\n<ul>\n<li>Avoid useless operations when the user is tabbed out</li>\n<li>Notify the user via the tabâ€™s title when new data is received and not already viewed (just like Messenger &#x26; Whatsapp already do)</li>\n<li>Pause a browser game when the user is tabbed out</li>\n</ul>\n<br>\n<h2 id=\"ambient-light-\"><a href=\"#ambient-light-\" aria-label=\"ambient light  permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ambient Light ðŸ’¡</h2>\n<p>This one exposes data on the current level of lighting perceived by the userâ€™s sensors.</p>\n<img style=\"max-width: 100%\" src=\"https://s3.amazonaws.com/media-p.slid.es/uploads/986999/images/5906957/ambient-light-code.png\">\n<p>The common theme for these APIs is the ease of implementation as you can see. All you have to do is catch the <code class=\"language-text\">devicelight</code> event and get the number of <a href=\"https://en.wikipedia.org/wiki/Lux\">lux</a> via <code class=\"language-text\">e.value</code> !</p>\n<p>Itâ€™s worth noting that this way of doing it will eventually become deprecated as a <a href=\"https://www.w3.org/TR/2019/WD-generic-sensor-20190307/\">Generic Sensor</a> API is in the works that will include a multitude of sensor data.<br>\nIt will eventually look more like this, where you instanciate the sensor, start it, catch changes to its state and stop it whenever you want:</p>\n<img style=\"max-width: 100%\" src=\"https://s3.amazonaws.com/media-p.slid.es/uploads/986999/images/5907037/ambient-light-code-3.png\">\n<p>Big bummer tho, browser support isnâ€™t great as you can see here</p>\n<img style=\"max-width: 100%\" src=\"https://s3.amazonaws.com/media-p.slid.es/uploads/986999/images/5907028/ambient-light-browser.png\">\n<p>Which probably wonâ€™t be the case for long, once the Generic Sensor API officially has the recommended status.</p>\n<p>Here are some ideas on how to use it:</p>\n<ul>\n<li>Adapt your applicationâ€™s contrast based on the current lighting (high amounts of light may make it harder to read certain contrasts)</li>\n<li>Go into dark mode whenever the user is reading at night (even tho I think you should <strong>always</strong> be in dark mode ðŸ˜›)</li>\n</ul>\n<br>\n<h2 id=\"online-state-\"><a href=\"#online-state-\" aria-label=\"online state  permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Online State ðŸ“¡</h2>\n<p>Pretty obvious one, it tells us if the user is currently connected to a network. It also allows us to catch network changes like so:</p>\n<img style=\"max-width: 100%\" src=\"https://s3.amazonaws.com/media-p.slid.es/uploads/986999/images/5917760/carbon.png\">\n<p>And its support is very good:</p>\n<p><img style=\"max-width: 100%\" src=\"https://s3.amazonaws.com/media-p.slid.es/uploads/986999/images/5907114/online-state-support.png\n\"></p>\n<p>Hereâ€™s a tiny <a href=\"https://codepen.io/christopherkade/pen/MxXdmY\">demo</a> that shows how it can be used.</p>\n<p>Use cases include:</p>\n<ul>\n<li>Notifying the user when they arenâ€™t logged into a network</li>\n<li>Pulling data when the user is back online after a long while</li>\n</ul>\n<br>\n<h2 id=\"vibration-\"><a href=\"#vibration-\" aria-label=\"vibration  permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vibration ðŸ“³</h2>\n<p>Last but not least, this API allows us to make the userâ€™s device vibrate.</p>\n<p><img style=\"max-width: 100%\" src=\"https://s3.amazonaws.com/media-p.slid.es/uploads/986999/images/5917802/carbon__1_.png\n\"></p>\n<p>The browser support for this one could be better, but its use cases are almost all centered around mobiles. As you can see most Android browsers support this feature whereas iOSâ€™s Safari doesnâ€™t.</p>\n<p><img style=\"max-width: 100%\" src=\"https://s3.amazonaws.com/media-p.slid.es/uploads/986999/images/5907174/vibrate-support.png\n\"></p>\n<p>Hereâ€™s another <a href=\"https://codepen.io/christopherkade/pen/eXKPzN\">demo</a> that shows it in use, make sure to try it on a compatible browser.</p>\n<p>Implementation ideas include:</p>\n<ul>\n<li>Adding a tactile feedback to form input, where the user could feel a vibration on input a wrong email address for example.</li>\n<li>Adding vibrations to mobile browser games (if there are any)</li>\n</ul>\n<br>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>There are many other web APIs that can help you build really fun and unique user experiences. I recommend a website named <a href=\"https://whatwebcando.today/\">What Web Can Do Today</a> that shows a thorough list of all of them, so make sure to check it out.</p>\n<p>Thanks for reading,<br>\n<a href=\"https://twitter.com/christo_kade\">@christo_kade</a></p>","fields":{"slug":"/posts/web-apis","tagSlugs":["/tag/javascript/"]},"frontmatter":{"date":"2019-03-20","description":"Some are just for fun, others have a lot of potential.","tags":["Javascript"],"title":"HTML5 web APIs you might want to know"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/web-apis"}}