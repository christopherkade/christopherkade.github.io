{"data":{"markdownRemark":{"id":"f429246f-f575-5439-bf50-1ae45e5cec75","html":"<p>A few days ago I published the latest version of my website, completely redone using <a href=\"https://nuxtjs.org/\">NuxtJS</a>.</p>\n<p>You’re probably saying to yourself, “Why Chris, why rewrite your website AGAIN?”, and I hear you dear reader, I truly do, but please keep on reading as I’ll explain my reasoning as best I can.</p>\n<p>This article will explore the following topics:</p>\n<ul>\n<li>What is NuxtJS?</li>\n<li>Why use Nuxt in this scenario?</li>\n<li>How I integrated my blog directly to my website</li>\n</ul>\n<p><br><br></p>\n<h2 id=\"what-is-nuxtjs\"><a href=\"#what-is-nuxtjs\" aria-label=\"what is nuxtjs permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What is NuxtJS?</h2>\n<p>To quote the official doc,</p>\n<blockquote>\n<p>Its main scope is UI rendering while abstracting away the client/server distribution.<br>\nOur goal is to create a framework flexible enough that you can use it as a main project base or in addition to your current project based on Node.js.<br>\nNuxt.js presets all the configuration needed to make your development of a Vue.js Application Server Rendered more enjoyable.</p>\n</blockquote>\n<p>In other words, Nuxt uses:</p>\n<ul>\n<li>Vue 2</li>\n<li>Vue Router</li>\n<li>Vuex</li>\n<li>Vue Server Renderer</li>\n<li>vue-meta</li>\n<li>webpack</li>\n</ul>\n<p>And some other tools in order to facilitate the development of your Vue application.</p>\n<p>All of this for a total of only <strong>57 kb</strong> min+gzip.</p>\n<p><br><br></p>\n<h2 id=\"why-use-nuxtjs-for-my-website\"><a href=\"#why-use-nuxtjs-for-my-website\" aria-label=\"why use nuxtjs for my website permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Why use NuxtJS for my website?</h2>\n<p>Oh boy, where to begin, it all started with a project at work that made me discover the power of this framework, especially the following points:</p>\n<ul>\n<li>Automatic route generation</li>\n<li>Server-side rendering</li>\n<li>Static file serving</li>\n<li>The ease of pre-processor use (Sass namely)</li>\n<li>Useful commands such as <a href=\"https://nuxtjs.org/api/configuration-generate/\">nuxt generate\u001c</a></li>\n</ul>\n<p>And many, many other quality of life improvements.</p>\n<p>But a very prevalent reason was my wish to integrate my blog directly to my project’s repository, by serving my markdown articles via automatically generated routes (just like this one!).</p>\n<p><br><br></p>\n<h2 id=\"how-i-integrated-my-blog-directly-to-my-website\"><a href=\"#how-i-integrated-my-blog-directly-to-my-website\" aria-label=\"how i integrated my blog directly to my website permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How I integrated my blog directly to my website</h2>\n<p>A few weeks ago I still had a blog generated by <a href=\"https://jekyllrb.com/\">Jekyll</a> and served on blog.christopherkade.com, which meant a less hands-on approach to the design and utilization of the blog itself.<br>\nFrom there came the idea of having my blog directly here, with articles in the same repository as my website and served directly using the markdown format.</p>\n<br>\n<h4 id=\"step-1-set-up-the-articles\"><a href=\"#step-1-set-up-the-articles\" aria-label=\"step 1 set up the articles permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 1: Set up the articles</h4>\n<p>My articles can be found in the <code class=\"language-text\">/static/articles/*.md</code> folder, and will be served directly from there.</p>\n<br>\n<h4 id=\"step-2-automatically-generate-routes-based-on-the-articles\"><a href=\"#step-2-automatically-generate-routes-based-on-the-articles\" aria-label=\"step 2 automatically generate routes based on the articles permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 2: Automatically generate routes based on the articles</h4>\n<p>Check out the current URL, it should be <code class=\"language-text\">christopherkade.com/blog/website-nuxt</code>, this route is automatically generated based on the article’s file name. Here’s how I did it:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// nuxt.config.js</span>\n<span class=\"token keyword\">const</span> glob <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'glob'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">let</span> files <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token function\">glob</span><span class=\"token punctuation\">(</span><span class=\"token string\">'static/articles/*.md'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err<span class=\"token punctuation\">,</span> output</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  files <span class=\"token operator\">=</span> output\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">getSlugs</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">post<span class=\"token punctuation\">,</span> _</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> slug <span class=\"token operator\">=</span> post<span class=\"token punctuation\">.</span><span class=\"token function\">substr</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> post<span class=\"token punctuation\">.</span><span class=\"token function\">lastIndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token string\">`/blog/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>slug<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n<span class=\"token punctuation\">}</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n    generate<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function-variable function\">routes</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> files<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>getSlugs<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h4 id=\"step-3-handle-the-markdown-format\"><a href=\"#step-3-handle-the-markdown-format\" aria-label=\"step 3 handle the markdown format permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 3: Handle the markdown format</h4>\n<p>To do so, Nuxt has a very practical module called <a href=\"https://github.com/nuxt-community/modules/tree/master/packages/markdownit\">markdownit</a>.</p>\n<p>To use it, start by installing it like so:</p>\n<p><code class=\"language-text\">npm install @nuxtjs/markdownit</code></p>\n<p>Then add it to Nuxt’s configuration file as a module:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span><span class=\"token punctuation\">,</span>\n    modules<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">[</span><span class=\"token string\">'@nuxtjs/markdownit'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> linkify<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<h4 id=\"step-4-create-the-pages-that-will-display-the-articles\"><a href=\"#step-4-create-the-pages-that-will-display-the-articles\" aria-label=\"step 4 create the pages that will display the articles permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Step 4: Create the pages that will display the articles</h4>\n<p>Nuxt generates automatically your routes based on the files in the <code class=\"language-text\">pages</code> folder.</p>\n<p>Knowing that, start by creating a <code class=\"language-text\">blog</code> folder under <code class=\"language-text\">pages</code> that will contain the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">+-- blog\n|   +-- _slug\n|       +-- index.vue // The page that displays a single article selected\n|   +-- index.vue     // The page that lists all my articles</code></pre></div>\n<p>The base <code class=\"language-text\">index.vue</code> will display our list of articles that can be found <a href=\"https://christopherkade.com/blog/\">here</a>. Whereas the <code class=\"language-text\">index.vue</code>’s route inside the <code class=\"language-text\">_slug</code> folder will be given the name of the article selected (as generated in part 2) and will display its content like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- pages/blog/_slug/index.vue --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">:key</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>$route.params.slug<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>articleSlug<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">v-html</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>content<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">{</span>\n  computed<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">file</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> fileContent <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`~/static/articles/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$route<span class=\"token punctuation\">.</span>params<span class=\"token punctuation\">.</span>slug\n      <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.md`</span></span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> fileContent\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>And that should be enough ! Navigate to <code class=\"language-text\">/blog/article-name</code> and your <code class=\"language-text\">.md</code> document should be displayed proudly on your page ! Easy, wasn’t it?</p>\n<p>I hope this article was useful to some of you,</p>\n<p>Until next time,<br>\nHave a good one :-)<br>\n<a href=\"https://twitter.com/christo_kade\">@christo_kade</a></p>","fields":{"slug":"/posts/website-nuxt","tagSlugs":["/tag/vue/"]},"frontmatter":{"date":"2018-10-10","description":"What it is, why it rocks, how I did it.","tags":["Vue"],"title":"Rewriting my website using NuxtJS"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/posts/website-nuxt"}}