<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Automatically deploying a website to Github pages using Travis CI</title><meta name="description" content="Set up a deployment pipeline in a few lines of configuration."/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/christopherkade.github.io/_next/static/css/4cc27c5b8de1725a.css" as="style"/><link rel="stylesheet" href="/christopherkade.github.io/_next/static/css/4cc27c5b8de1725a.css" data-n-g=""/><link rel="preload" href="/christopherkade.github.io/_next/static/css/207bfb6063b2daa3.css" as="style"/><link rel="stylesheet" href="/christopherkade.github.io/_next/static/css/207bfb6063b2daa3.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/christopherkade.github.io/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/christopherkade.github.io/_next/static/chunks/webpack-dff1142a01f719d2.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/main-19fc024c904a8443.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/pages/_app-03141e38826ace76.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/959-ece356c083335946.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/89-8a0243d41d3ea2a6.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/pages/posts/%5Bslug%5D-03b50078ed61eab4.js" defer=""></script><script src="/christopherkade.github.io/_next/static/dYjIk7-GMqg-bctGQgCA7/_buildManifest.js" defer=""></script><script src="/christopherkade.github.io/_next/static/dYjIk7-GMqg-bctGQgCA7/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="__className_15d573"><nav class="fixed top-0 w-full text-grey-900 px-1 sm:px-4 bg-theme-primary z-10 shadow-none hidden md:block"><div class="container flex flex-wrap items-center justify-center mx-auto"><a class="absolute my-auto left-7 hidden sm:block tracking-wide strike-through-violet" href="/christopherkade.github.io">CHRISTOPHER KADE</a><div class="block w-auto" id="navbar-default"><ul class="flex p-2 flex-row md:space-x-8 mt-0 text-sm font-medium"><li><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/christopherkade.github.io">About,</a></li><li class="ml-0"><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/christopherkade.github.io#articles">articles,</a></li><li class="ml-0"><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/christopherkade.github.io#projects">projects,</a></li><li class="ml-0"><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/christopherkade.github.io#contact">contact</a></li></ul></div></div></nav><div class="pt-8 md:pt-28 max-w-7xl p-6 mx-auto"><article class="md:max-w-[60%] mx-auto"><header class="mb-14"><a class="flex w-fit mb-8 text-lg group" href="/christopherkade.github.io/posts"><img alt="Back button to all articles" src="/christopherkade.github.io//_next/static/media/back-arrow.0ade2ae6.svg" width="15" height="15" decoding="async" data-nimg="1" class="mr-2" loading="lazy" style="color:transparent"/><span class="group-hover:strike-through-yellow">All articles</span></a><h1 class="text-4xl box-decoration-clone strike-through-violet inline">Automatically deploying a website to Github pages using Travis CI</h1></header><main><div class="markdown-styles_reactMarkDown__k3MfX"><p><strong>Travis CI</strong> is a continuous integration service used to build and test software hosted on Github.<br/>
<!-- -->In this blog post I&#x27;ll briefly cover the subject of Continuous Integration and explain step by step how to deploy your project to Github pages using Travis.</p>
<p>Table of contents:</p>
<ul>
<li><a href="#ci">What is Continuous Integration?</a></li>
<li><a href="#howto">How to deploy a website to Github pages using Travis CI</a>
<ul>
<li><a href="#activate">Activate Travis on your Github repository</a></li>
<li><a href="#configure">Configure the CI process for your repository</a></li>
<li><a href="#trigger">Trigger your first Travis CI build</a></li>
</ul>
</li>
</ul>
<p>&lt;br&gt;<!-- -->&lt;br&gt;</p>
<h2>&lt;a name=&quot;ci&quot;&gt;<!-- -->&lt;/a&gt;<!-- --> What is Continuous Integration?</h2>
<p>Continuous Integration, or CI for short is the development practice of automating the build and testing of code every time a team member commits changes to their version control system.</p>
<p>This diagram represents the process pretty well:</p>
<!-- -->&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;90%&quot; height=&quot;90%&quot; src=&quot;https://user-images.githubusercontent.com/15229355/47021076-04f20880-d15b-11e8-8667-1dada62a08af.png&quot;&gt;
&lt;/p&gt;<!-- -->
<p>&lt;br&gt;<!-- -->&lt;br&gt;</p>
<h2>&lt;a name=&quot;howto&quot;&gt;<!-- -->&lt;/a&gt;<!-- --> How to deploy a website to Github pages using Travis CI</h2>
<p>In my specific case, I wanted to automate the deployment process for the website you&#x27;re currently visiting.<br/>
<!-- -->In other words, for each new article or change to the website itself, I wanted to test, build and deploy it to Github pages to keep it up to date.</p>
<p>I turned to Travis CI for multiple reasons, it&#x27;s free, easy to set up and the web client is practical.</p>
<p>So, how did I do exactly what I wanted?</p>
<!-- -->&lt;br&gt;<!-- -->
<h3>&lt;a name=&quot;activate&quot;&gt;<!-- -->&lt;/a&gt;<!-- --> Step 1: Activate Travis on your Github repository</h3>
<ul>
<li>
<p>Simply go to Travis-ci.com and Sign up with Github.</p>
</li>
<li>
<p>Accept the Authorization of Travis CI. You’ll be redirected to GitHub.</p>
</li>
<li>
<p>Click the green Activate button, and activate the repositories you want to use with Travis CI.</p>
</li>
</ul>
<!-- -->&lt;br&gt;<!-- -->
<h3>&lt;a name=&quot;configure&quot;&gt;<!-- -->&lt;/a&gt;<!-- --> Step 2: Configure the CI process for your repository</h3>
<p>To do so, add a <code>.travis.yml</code> file at the <strong>root</strong> of your repository, this file will basically tell Travis what to do and in what order.<br/>
<!-- -->Thankfully, the process is simplified, especially when it comes to deploying to Github pages, take a look at this example:</p>
<pre><div class="codeStyle" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-yaml" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">1</span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Important for the Travis container set up</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">2</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">language</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;node_js&quot;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Language used by the project</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">3</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">node_js</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;8&quot;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Node version used</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">5</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">cache</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">6</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">directories</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">7</span><span>    </span><span class="token" style="color:hsl(220, 14%, 71%)">-</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;node_modules&quot;</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Travis will cache node_modules so it doesn&#x27;t reinstall them every time</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">8</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">9</span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Lifecycle job, will execute the actions bellow before the build and deployment.</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">10</span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Find other build lifecycle hooks here: https://docs.travis-ci.com/user/job-lifecycle</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">11</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">before_script</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">12</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">-</span><span> npm run lint
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">13</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">14</span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># This is where the magic happens, Travis handles Github pages deployment automatically</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">15</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">deploy</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">16</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">provider</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> pages </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Tells Travis we&#x27;re deploying on Github Pages</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">17</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">skip-cleanup</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(355, 65%, 65%)">true</span><span> </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Make sure you have it set to true</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">18</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">github-token</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> $GITHUB_TOKEN </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># See notes bellow</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">19</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">local_dir</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> dist </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># The directory to deploy</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">20</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">repo</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> github_username/repository_name </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># For example christopherkade/christopherkade.github.io</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">21</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">target_branch</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> master </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Branch to be deployed on</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">22</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">on</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">23</span><span>    </span><span class="token key" style="color:hsl(29, 54%, 61%)">branch</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> code </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Deployement only triggered when code is pushed on the code branch</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">24</span></code></div></pre>
<p>Note that the <code>$GITHUB_TOKEN</code> must be set up directly in the repository&#x27;s Settings on the Travis client.</p>
<p>To get that token, follow these brief <a href="https://docs.travis-ci.com/user/deployment/pages/#setting-the-github-token">instructions</a>.</p>
<!-- -->&lt;br&gt;<!-- -->
<h3>Step 3: <!-- -->&lt;a name=&quot;trigger&quot;&gt;<!-- -->&lt;/a&gt;<!-- --> Trigger your first Travis CI build</h3>
<p>To do so, start by adding, committing and pushing your <code>.travis.yml</code> file to Git.<br/>
<!-- -->You can now go back to the Travis client and see your build status.</p>
<p>If said build fails for reasons you cannot understand through the logs, feel free to check out <a href="https://docs.travis-ci.com/user/common-build-problems/">common build problems</a>.</p>
<p>If not, your Github page is now up and running thanks to the <code>deploy</code> statement in your configuration file. The deployment is visible as one of the very last logs of your build.</p>
<p>I hope this was useful to some of you, as discovering CI has truly made my development process more enjoyable as a whole.</p>
<p>Have a good one :-)<br/>
<a href="https://twitter.com/christo_kade">@christo_kade</a></p></div></main></article></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Automatically deploying a website to Github pages using Travis CI","description":"Set up a deployment pipeline in a few lines of configuration.","date":"2018-10-15","slug":"/posts/travis-githubpages","isPublished":true},"content":"\n**Travis CI** is a continuous integration service used to build and test software hosted on Github.  \nIn this blog post I'll briefly cover the subject of Continuous Integration and explain step by step how to deploy your project to Github pages using Travis.\n\nTable of contents:\n\n- [What is Continuous Integration?](#ci)\n- [How to deploy a website to Github pages using Travis CI](#howto)\n  - [Activate Travis on your Github repository](#activate)\n  - [Configure the CI process for your repository](#configure)\n  - [Trigger your first Travis CI build](#trigger)\n\n\u003cbr\u003e\u003cbr\u003e\n\n## \u003ca name=\"ci\"\u003e\u003c/a\u003e What is Continuous Integration?\n\nContinuous Integration, or CI for short is the development practice of automating the build and testing of code every time a team member commits changes to their version control system.\n\nThis diagram represents the process pretty well:\n\n\u003cp align=\"center\"\u003e\n  \u003cimg width=\"90%\" height=\"90%\" src=\"https://user-images.githubusercontent.com/15229355/47021076-04f20880-d15b-11e8-8667-1dada62a08af.png\"\u003e\n\u003c/p\u003e\n\n\u003cbr\u003e\u003cbr\u003e\n\n## \u003ca name=\"howto\"\u003e\u003c/a\u003e How to deploy a website to Github pages using Travis CI\n\nIn my specific case, I wanted to automate the deployment process for the website you're currently visiting.  \nIn other words, for each new article or change to the website itself, I wanted to test, build and deploy it to Github pages to keep it up to date.\n\nI turned to Travis CI for multiple reasons, it's free, easy to set up and the web client is practical.\n\nSo, how did I do exactly what I wanted?\n\n\u003cbr\u003e\n\n### \u003ca name=\"activate\"\u003e\u003c/a\u003e Step 1: Activate Travis on your Github repository\n\n- Simply go to Travis-ci.com and Sign up with Github.\n\n- Accept the Authorization of Travis CI. You’ll be redirected to GitHub.\n\n- Click the green Activate button, and activate the repositories you want to use with Travis CI.\n\n\u003cbr\u003e\n\n### \u003ca name=\"configure\"\u003e\u003c/a\u003e Step 2: Configure the CI process for your repository\n\nTo do so, add a `.travis.yml` file at the **root** of your repository, this file will basically tell Travis what to do and in what order.  \nThankfully, the process is simplified, especially when it comes to deploying to Github pages, take a look at this example:\n\n```yaml\n# Important for the Travis container set up\nlanguage: \"node_js\" # Language used by the project\nnode_js: \"8\" # Node version used\n\ncache:\n  directories:\n    - \"node_modules\" # Travis will cache node_modules so it doesn't reinstall them every time\n\n# Lifecycle job, will execute the actions bellow before the build and deployment.\n# Find other build lifecycle hooks here: https://docs.travis-ci.com/user/job-lifecycle\nbefore_script:\n  - npm run lint\n\n# This is where the magic happens, Travis handles Github pages deployment automatically\ndeploy:\n  provider: pages # Tells Travis we're deploying on Github Pages\n  skip-cleanup: true # Make sure you have it set to true\n  github-token: $GITHUB_TOKEN # See notes bellow\n  local_dir: dist # The directory to deploy\n  repo: github_username/repository_name # For example christopherkade/christopherkade.github.io\n  target_branch: master # Branch to be deployed on\n  on:\n    branch: code # Deployement only triggered when code is pushed on the code branch\n```\n\nNote that the `$GITHUB_TOKEN` must be set up directly in the repository's Settings on the Travis client.\n\nTo get that token, follow these brief [instructions](https://docs.travis-ci.com/user/deployment/pages/#setting-the-github-token).\n\n\u003cbr\u003e\n\n### Step 3: \u003ca name=\"trigger\"\u003e\u003c/a\u003e Trigger your first Travis CI build\n\nTo do so, start by adding, committing and pushing your `.travis.yml` file to Git.  \nYou can now go back to the Travis client and see your build status.\n\nIf said build fails for reasons you cannot understand through the logs, feel free to check out [common build problems](https://docs.travis-ci.com/user/common-build-problems/).\n\nIf not, your Github page is now up and running thanks to the `deploy` statement in your configuration file. The deployment is visible as one of the very last logs of your build.\n\nI hope this was useful to some of you, as discovering CI has truly made my development process more enjoyable as a whole.\n\nHave a good one :-)  \n[@christo_kade](https://twitter.com/christo_kade)\n"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"travis-githubpages"},"buildId":"dYjIk7-GMqg-bctGQgCA7","assetPrefix":"/christopherkade.github.io","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>