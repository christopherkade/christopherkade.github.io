<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Serving your Github pages custom domain using HTTPS</title><meta name="description" content="The green lock of trust is vital from now on."/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/christopherkade.github.io/_next/static/css/4cc27c5b8de1725a.css" as="style"/><link rel="stylesheet" href="/christopherkade.github.io/_next/static/css/4cc27c5b8de1725a.css" data-n-g=""/><link rel="preload" href="/christopherkade.github.io/_next/static/css/207bfb6063b2daa3.css" as="style"/><link rel="stylesheet" href="/christopherkade.github.io/_next/static/css/207bfb6063b2daa3.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/christopherkade.github.io/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/christopherkade.github.io/_next/static/chunks/webpack-8405a6300163b70b.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/main-19fc024c904a8443.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/pages/_app-03141e38826ace76.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/959-ece356c083335946.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/89-8a0243d41d3ea2a6.js" defer=""></script><script src="/christopherkade.github.io/_next/static/chunks/pages/posts/%5Bslug%5D-4a45900892dfc04d.js" defer=""></script><script src="/christopherkade.github.io/_next/static/x_LF6Xwj7cFR4_MGXNmir/_buildManifest.js" defer=""></script><script src="/christopherkade.github.io/_next/static/x_LF6Xwj7cFR4_MGXNmir/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="__className_15d573"><nav class="fixed top-0 w-full text-grey-900 px-1 sm:px-4 bg-theme-primary z-10 shadow-none hidden md:block"><div class="container flex flex-wrap items-center justify-center mx-auto"><a class="absolute my-auto left-7 hidden sm:block tracking-wide strike-through-violet" href="/christopherkade.github.io">CHRISTOPHER KADE</a><div class="block w-auto" id="navbar-default"><ul class="flex p-2 flex-row md:space-x-8 mt-0 text-sm font-medium"><li><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/christopherkade.github.io">About,</a></li><li class="ml-0"><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/christopherkade.github.io#articles">articles,</a></li><li class="ml-0"><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/christopherkade.github.io#projects">projects,</a></li><li class="ml-0"><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/christopherkade.github.io#contact">contact</a></li></ul></div></div></nav><div class="pt-8 md:pt-28 max-w-7xl p-6 mx-auto"><article class="md:max-w-[60%] mx-auto"><header class="mb-14"><a class="flex w-fit mb-8 text-lg group" href="/christopherkade.github.io/posts"><img alt="Back button to all articles" src="/christopherkade.github.io/_next/static/media/back-arrow.0ade2ae6.svg" width="15" height="15" decoding="async" data-nimg="1" class="mr-2" loading="lazy" style="color:transparent"/><span class="group-hover:strike-through-yellow">All articles</span></a><h1 class="text-4xl box-decoration-clone strike-through-yellow inline">Serving your Github pages custom domain using HTTPS</h1></header><main><div class="markdown-styles_reactMarkDown__k3MfX"><p>After deploying my new web-tool (namely <a href="https://snippet.christopherkade.com/">Snippet</a>) I figured it would be time to finally add SSL to my domain. Even though no data leaves or enters my website, I find the green lock of trust to be reassuring and a norm on the web, and so do most users today.</p>
<p>I started by <strong>only</strong> using AWS services, but then realized I could cut some costs by using Cloudflare&#x27;s free plan.</p>
<p>In short, I needed:</p>
<ul>
<li>Cloudflare</li>
<li>AWS Route 53</li>
</ul>
<p>I had:</p>
<ul>
<li>A custom domain working through HTTP</li>
<li>Custom sub-domains</li>
</ul>
<p>&lt;br&gt;<!-- -->&lt;br&gt;</p>
<h2>Step 1: Setting up Cloudflare</h2>
<p>We&#x27;ll be using Cloudflare as our new DNS (coming from AWS Route 53), to use and force HTTPS.</p>
<p>To do so, head out to <a href="https://www.cloudflare.com/">Cloudflare</a>&#x27;s website, create an account and set up your website by providing your domain; in my case <code>christopherkade.com</code>.</p>
<!-- -->&lt;br&gt;<!-- -->
<h4>Using Cloudflare as our DNS</h4>
<p>Cloudflare will then scan your existing DNS configurations and display the records they found, in my case, they found most of them, namely my <code>A</code> records and one of my sub-domain&#x27;s <code>CNAME</code> record, like such:</p>
<!-- -->&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;70%&quot; height=&quot;70%&quot; src=&quot;https://user-images.githubusercontent.com/15229355/33068859-7d471316-ceaa-11e7-930b-8c19b9e8f5fe.png&quot;&gt;
&lt;/p&gt;<!-- -->
<p>I then proceeded to add the missing records and most importantly to add a <code>CNAME</code> record with <code>www</code> as its name and an alias to <code>username.github.io</code> as its value. This way, when navigating to <code>www.christopherkade.com</code>, you&#x27;ll be redirected right away to <code>christopherkade.github.io</code>. Here&#x27;s the final records:</p>
<!-- -->&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;70%&quot; height=&quot;70%&quot; src=&quot;https://user-images.githubusercontent.com/15229355/33068913-a9e7db12-ceaa-11e7-99b1-397f664c9be0.png&quot;&gt;
&lt;/p&gt;<!-- -->
<!-- -->&lt;br&gt;<!-- -->
<h4>Enforcing HTTPS</h4>
<p>Head out to the <em>Crypto</em> tab and change the <code>SSL</code> option to <code>Full</code>.</p>
<!-- -->&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;90%&quot; height=&quot;90%&quot; src=&quot;https://user-images.githubusercontent.com/15229355/33068988-e7a1b7ac-ceaa-11e7-9e50-d8e34b34cb98.png&quot;&gt;
&lt;/p&gt;<!-- -->
<p>We now want to make sure our website is only accessible via HTTPS, to do so go to the <em>Page Rules</em> tab and add the following rule:</p>
<!-- -->&lt;p align=&quot;center&quot;&gt;
  &lt;img width=&quot;100%&quot; height=&quot;100%&quot; src=&quot;https://user-images.githubusercontent.com/15229355/33068253-8eef832a-cea8-11e7-823f-785e514782f7.png&quot;&gt;
&lt;/p&gt;<!-- -->
<p>This way, accessing <code>http://christopherkade.com</code> will always forward our user to <code>https://christopherkade.com</code>.</p>
<p>&lt;br&gt;<!-- -->&lt;br&gt;</p>
<h2>Step 2: Changing our nameservers</h2>
<p>Now that this is all said and done, when navigating to your overview page, Cloudflare should be asking you the following:</p>
<pre><code>Please ensure your website is using the nameservers provided:
- nameserver
- nameserver
</code></pre>
<p>This is pretty straight forward, we need to head out to <a href="https://console.aws.amazon.com/route53/">AWS Route 53</a> and change our domain&#x27;s nameservers.</p>
<p>To do so, go to the <code>Registered domains</code> tab on the left:</p>
<!-- -->&lt;p align=&quot;center&quot;&gt;
  &lt;img src=&quot;https://user-images.githubusercontent.com/15229355/33069025-0d14f102-ceab-11e7-8b5a-6edc83e02b44.png&quot;&gt;
&lt;/p&gt;<!-- -->
<p>Click on your domain of choice, then click on <code>Add or edit name servers</code> on the right side of the panel. You can now provide the nameservers <strong>given to you by Cloudflare previously</strong>. This change will take a couple of minutes, you will then receive an e-mail by AWS confirming it.</p>
<p>Now that your nameservers have been changed, go back to Cloudflare&#x27;s overview panel and click on <code>Recheck Nameservers</code> (you may do that only once per hour, if you have already done it earlier out of curiosity, patience !).</p>
<p>A short while after, you will receive an e-mail from the Cloudflare team confirming your submission ! Just wait some time, hard refresh your website (Ctrl + f5 on Chrome, Ctrl + R on Firefox) and <strong>voilà</strong>, you now have your beautiful green lock of trust (on all sub-domains as well !).</p>
<p>&lt;br&gt;<!-- -->&lt;br&gt;</p>
<h2>Final thoughts</h2>
<p>Serving through HTTPS is a norm nowadays, and even though Github pages serves as HTTPS by default for non-custom domains, I found it useful to learn how to do it in all cases.</p>
<p>It took a lot of research to intertwine these two services, and I hope this post may be of use to at least one of you.</p>
<p>Thanks for reading,<br/>
<a href="https://twitter.com/christo_kade">@christo_kade</a></p></div></main></article></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Serving your Github pages custom domain using HTTPS","description":"The green lock of trust is vital from now on.","date":"2017-12-06","slug":"/posts/ssh-githubpages","isPublished":true},"content":"\nAfter deploying my new web-tool (namely [Snippet](https://snippet.christopherkade.com/)) I figured it would be time to finally add SSL to my domain. Even though no data leaves or enters my website, I find the green lock of trust to be reassuring and a norm on the web, and so do most users today.\n\nI started by **only** using AWS services, but then realized I could cut some costs by using Cloudflare's free plan.\n\nIn short, I needed:\n\n- Cloudflare\n- AWS Route 53\n\nI had:\n\n- A custom domain working through HTTP\n- Custom sub-domains\n\n\u003cbr\u003e\u003cbr\u003e\n\n## Step 1: Setting up Cloudflare\n\nWe'll be using Cloudflare as our new DNS (coming from AWS Route 53), to use and force HTTPS.\n\nTo do so, head out to [Cloudflare](https://www.cloudflare.com/)'s website, create an account and set up your website by providing your domain; in my case `christopherkade.com`.\n\n\u003cbr\u003e\n\n#### Using Cloudflare as our DNS\n\nCloudflare will then scan your existing DNS configurations and display the records they found, in my case, they found most of them, namely my `A` records and one of my sub-domain's `CNAME` record, like such:\n\n\u003cp align=\"center\"\u003e\n  \u003cimg width=\"70%\" height=\"70%\" src=\"https://user-images.githubusercontent.com/15229355/33068859-7d471316-ceaa-11e7-930b-8c19b9e8f5fe.png\"\u003e\n\u003c/p\u003e\n\nI then proceeded to add the missing records and most importantly to add a `CNAME` record with `www` as its name and an alias to `username.github.io` as its value. This way, when navigating to `www.christopherkade.com`, you'll be redirected right away to `christopherkade.github.io`. Here's the final records:\n\n\u003cp align=\"center\"\u003e\n  \u003cimg width=\"70%\" height=\"70%\" src=\"https://user-images.githubusercontent.com/15229355/33068913-a9e7db12-ceaa-11e7-99b1-397f664c9be0.png\"\u003e\n\u003c/p\u003e\n\n\u003cbr\u003e\n\n#### Enforcing HTTPS\n\nHead out to the _Crypto_ tab and change the `SSL` option to `Full`.\n\n\u003cp align=\"center\"\u003e\n  \u003cimg width=\"90%\" height=\"90%\" src=\"https://user-images.githubusercontent.com/15229355/33068988-e7a1b7ac-ceaa-11e7-9e50-d8e34b34cb98.png\"\u003e\n\u003c/p\u003e\n\nWe now want to make sure our website is only accessible via HTTPS, to do so go to the _Page Rules_ tab and add the following rule:\n\n\u003cp align=\"center\"\u003e\n  \u003cimg width=\"100%\" height=\"100%\" src=\"https://user-images.githubusercontent.com/15229355/33068253-8eef832a-cea8-11e7-823f-785e514782f7.png\"\u003e\n\u003c/p\u003e\n\nThis way, accessing `http://christopherkade.com` will always forward our user to `https://christopherkade.com`.\n\n\u003cbr\u003e\u003cbr\u003e\n\n## Step 2: Changing our nameservers\n\nNow that this is all said and done, when navigating to your overview page, Cloudflare should be asking you the following:\n\n```\nPlease ensure your website is using the nameservers provided:\n- nameserver\n- nameserver\n```\n\nThis is pretty straight forward, we need to head out to [AWS Route 53](https://console.aws.amazon.com/route53/) and change our domain's nameservers.\n\nTo do so, go to the `Registered domains` tab on the left:\n\n\u003cp align=\"center\"\u003e\n  \u003cimg src=\"https://user-images.githubusercontent.com/15229355/33069025-0d14f102-ceab-11e7-8b5a-6edc83e02b44.png\"\u003e\n\u003c/p\u003e\n\nClick on your domain of choice, then click on `Add or edit name servers` on the right side of the panel. You can now provide the nameservers **given to you by Cloudflare previously**. This change will take a couple of minutes, you will then receive an e-mail by AWS confirming it.\n\nNow that your nameservers have been changed, go back to Cloudflare's overview panel and click on `Recheck Nameservers` (you may do that only once per hour, if you have already done it earlier out of curiosity, patience !).\n\nA short while after, you will receive an e-mail from the Cloudflare team confirming your submission ! Just wait some time, hard refresh your website (Ctrl + f5 on Chrome, Ctrl + R on Firefox) and **voilà**, you now have your beautiful green lock of trust (on all sub-domains as well !).\n\n\u003cbr\u003e\u003cbr\u003e\n\n## Final thoughts\n\nServing through HTTPS is a norm nowadays, and even though Github pages serves as HTTPS by default for non-custom domains, I found it useful to learn how to do it in all cases.\n\nIt took a lot of research to intertwine these two services, and I hope this post may be of use to at least one of you.\n\nThanks for reading,  \n[@christo_kade](https://twitter.com/christo_kade)\n"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"ssh-githubpages"},"buildId":"x_LF6Xwj7cFR4_MGXNmir","assetPrefix":"/christopherkade.github.io","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>