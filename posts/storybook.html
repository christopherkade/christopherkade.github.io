<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Automatically deploying your Storybook to Github Pages</title><meta name="description" content="Deploy your Storybooks to Github Pages using Travis CI in a matter of minutes."/><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/ffb523b5f7e40219.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ffb523b5f7e40219.css" data-n-g=""/><link rel="preload" href="/_next/static/css/73f774a748465508.css" as="style"/><link rel="stylesheet" href="/_next/static/css/73f774a748465508.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-83105742ca734edf.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-7f42b959b0669217.js" defer=""></script><script src="/_next/static/chunks/pages/_app-02d136397748a460.js" defer=""></script><script src="/_next/static/chunks/959-1f1497f0fca8f7ff.js" defer=""></script><script src="/_next/static/chunks/89-8a0243d41d3ea2a6.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-1847102f797143b3.js" defer=""></script><script src="/_next/static/g4xkI5hjWMZbiaqtZMl4O/_buildManifest.js" defer=""></script><script src="/_next/static/g4xkI5hjWMZbiaqtZMl4O/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="__className_555963"><nav class="fixed top-0 w-full text-grey-900 px-1 sm:px-4 bg-theme-primary z-10 shadow-none hidden md:block"><div class="container flex flex-wrap items-center justify-center mx-auto"><a class="absolute my-auto left-7 hidden sm:block tracking-wide strike-through-violet" href="/">CHRISTOPHER KADE</a><div class="block w-auto" id="navbar-default"><ul class="flex p-2 flex-row md:space-x-8 mt-0 text-sm font-medium"><li><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/">About,</a></li><li class="ml-0"><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/#articles">articles,</a></li><li class="ml-0"><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/#projects">projects,</a></li><li class="ml-0"><a class="list__link strike-through-animation hover:strike-through-yellow block py-2 px-2 md:px-0 font-extralight" href="/#contact">contact</a></li></ul></div></div></nav><div class="pt-8 md:pt-28 max-w-7xl p-6 mx-auto"><article class="md:max-w-[60%] mx-auto"><header class="mb-14"><a class="flex w-fit mb-8 text-lg group" href="/posts"><img alt="Back button to all articles" src="/_next/static/media/back-arrow.0ade2ae6.svg" width="15" height="15" decoding="async" data-nimg="1" class="mr-2" loading="lazy" style="color:transparent"/><span class="group-hover:strike-through-yellow">All articles</span></a><h1 class="text-4xl box-decoration-clone strike-through-yellow inline">Automatically deploying your Storybook to Github Pages</h1></header><main><div class="markdown-styles_reactMarkDown__k3MfX"><p><a href="https://storybook.js.org/">Storybook</a> is a great tool, it allows you to organize your components into a neat little interface that looks something like <a href="https://christopherkade.com/ReactCraft">this</a>.<br/>
<!-- -->You basically create <em>stories</em> that take care of returning the component you want to display to your user.</p>
<p>Here&#x27;s an example of a story for a React component:</p>
<pre><div class="codeStyle" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-jsx" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">1</span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">//...</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">3</span><span></span><span class="token module" style="color:hsl(286, 60%, 67%)">import</span><span> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">Button</span><span class="token imports"> </span><span class="token imports" style="color:hsl(220, 14%, 71%)">}</span><span> </span><span class="token module" style="color:hsl(286, 60%, 67%)">from</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;../components/Button&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">5</span><span></span><span class="token" style="color:hsl(207, 82%, 66%)">storiesOf</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;Button&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> module</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">6</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">add</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;With text&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(29, 54%, 61%)">Button</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">Enter World</span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(29, 54%, 61%)">Button</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">7</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">.</span><span class="token method property-access" style="color:hsl(207, 82%, 66%)">add</span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;With emojis&quot;</span><span class="token" style="color:hsl(220, 14%, 71%)">,</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">(</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span> </span><span class="token arrow" style="color:hsl(207, 82%, 66%)">=&gt;</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;</span><span class="token" style="color:hsl(29, 54%, 61%)">Button</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token plain-text">üî•‚öîÔ∏è</span><span class="token" style="color:hsl(220, 14%, 71%)">&lt;/</span><span class="token" style="color:hsl(29, 54%, 61%)">Button</span><span class="token" style="color:hsl(220, 14%, 71%)">&gt;</span><span class="token" style="color:hsl(220, 14%, 71%)">)</span><span class="token" style="color:hsl(220, 14%, 71%)">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">8</span></code></div></pre>
<p>Pretty simple stuff, of course, there are many ways of <a href="https://storybook.js.org/docs/configurations/options-parameter/">customizing</a> your Storybook, from its theme to adding awesome <a href="https://storybook.js.org/docs/addons/addon-gallery/">addons</a>.</p>
<p>But this article is not an introduction to Storybook, if you want one I truly recommend Emma Wedekind&#x27;s <a href="https://dev.to/emmawedekind/documenting-react-components-with-storybook-4h3b">&quot;Documenting React Components With Storybook&quot;</a>. Today, we&#x27;ll deploy an existing Storybook to Github Pages like <a href="https://christopherkade.com/ReactCraft">this one</a> while automating the process at each push on a given branch.</p>
<p>&lt;br&gt;<!-- -->&lt;br&gt;</p>
<h2>Setting up Travis CI</h2>
<p>Travis CI is a continuous integration service that&#x27;s used to build and test your software hosted on Github. It&#x27;s free for open-source projects and will allow us to deploy to Github Pages super easily.</p>
<p>There are a few steps to follow before we can do all of that:</p>
<ol>
<li>Go to <a href="http://travis-ci.com">travis-ci.com</a> and Sign up with GitHub.</li>
<li>Accept the Authorization of Travis CI. You‚Äôll be redirected to GitHub.</li>
<li>Click the green Activate button, and select the repository you want to deploy</li>
<li>Generate a personal access token on Github following the short instructions on this <a href="https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line">link</a> and give it the <code>public_repo</code> permissions.</li>
<li>Go to your project&#x27;s settings on Travis, in the environment variables section, create a <code>GITHUB_TOKEN</code> variable and give it the token you&#x27;ve just generated. This token will allow Travis to push to your repository in order to deploy.</li>
</ol>
<!-- -->&lt;div style=&quot;display: flex; align-items: center; justify-content: center&quot;&gt;
&lt;img width=&quot;70%&quot; alt=&quot;render of the component mentioned&quot; src=&quot;https://user-images.githubusercontent.com/15229355/57936079-78135700-78c3-11e9-8735-0aac4881d546.png&quot;&gt;
&lt;/div&gt;<!-- -->
<p>We can now create a <code>.travis.yml</code> file at the root of our project and give it the following content:</p>
<pre><div class="codeStyle" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-yml" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">1</span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Tells Travis we&#x27;re running on a Node environment</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">2</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">language</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;node_js&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">3</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">node_js</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;8&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">4</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">5</span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Script that is run before the script phase</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">6</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">before_script</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">7</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">-</span><span> yarn build</span><span class="token" style="color:hsl(220, 14%, 71%)">-</span><span>storybook
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">8</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">9</span><span></span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Deployment information</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">10</span><span></span><span class="token key" style="color:hsl(29, 54%, 61%)">deploy</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">11</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">provider</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> pages </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Tell Travis we want to deploy to Github Pages</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">12</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">skip-cleanup</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> </span><span class="token" style="color:hsl(355, 65%, 65%)">true</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">13</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">github-token</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> $GITHUB_TOKEN </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Will take the environment variable you created on step 5</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">14</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">local_dir</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> storybook</span><span class="token" style="color:hsl(220, 14%, 71%)">-</span><span>static </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># The folder that needs to be deployed</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">15</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">repo</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> christopherkade/ReactCraft </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Add your username/project_name here</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">16</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">target_branch</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> gh</span><span class="token" style="color:hsl(220, 14%, 71%)">-</span><span>pages </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Tell Travis to deploy on the gh-pages branch</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">17</span><span>  </span><span class="token key" style="color:hsl(29, 54%, 61%)">on</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">18</span><span>    </span><span class="token key" style="color:hsl(29, 54%, 61%)">branch</span><span class="token" style="color:hsl(220, 14%, 71%)">:</span><span> master </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic"># Tell Travis to trigger a deploy only when we push to master</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">19</span></code></div></pre>
<blockquote>
<p>Note: If you wish to trigger the deployment when pushing to a specific branch, feel free to change the <code>branch: master</code> section of the configuration file.</p>
</blockquote>
<p>&lt;br&gt;<!-- -->&lt;br&gt;</p>
<h2>Setting up our Storybook for deployment</h2>
<p>We&#x27;re almost done, we now need to export our Storybook into a static app. This way Travis will take care of pushing the generated app to our <code>gh-pages</code> branch, which will deploy it !</p>
<p>In your <code>package.json</code>, add the following script:</p>
<pre><div class="codeStyle" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto;border-radius:0.3em"><code class="language-json" style="background:hsl(220, 13%, 18%);color:hsl(220, 14%, 71%);text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:&quot;Fira Code&quot;, &quot;Fira Mono&quot;, Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">1</span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">2</span><span>  </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;scripts&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(220, 14%, 71%)">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">3</span><span>    </span><span class="token" style="color:hsl(220, 10%, 40%);font-style:italic">// ...</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">4</span><span>    </span><span class="token" style="color:hsl(355, 65%, 65%)">&quot;build-storybook&quot;</span><span class="token" style="color:hsl(207, 82%, 66%)">:</span><span> </span><span class="token" style="color:hsl(95, 38%, 62%)">&quot;build-storybook -s public&quot;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">5</span><span>  </span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">6</span><span></span><span class="token" style="color:hsl(220, 14%, 71%)">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:hsl(220, 10%, 40%);font-style:italic">7</span></code></div></pre>
<p>This script is the one run during our <code>before_script</code> phase in our <code>.travis.yml</code>. It will generate a <code>storybook-static</code> folder at the root of your project containing your website&#x27;s static instance.</p>
<p>&lt;br&gt;<!-- -->&lt;br&gt;</p>
<h2>Deploying your Storybook</h2>
<p>We can now trigger our first deployment üòç</p>
<p>Push your <code>package.json</code> and <code>.travis.yml</code> files to your repository.<br/>
<!-- -->If everything goes according to plan you should see a build being triggered on your Travis dashboard. After a short while (give it a few minutes at first), if your build is shown as successful, you&#x27;ll find your Storybook under the following URL: username.github.io/project-name.</p>
<p>Keep in mind that a few things might make a build fail:</p>
<ol>
<li>Your tests failing</li>
<li>Forgetting a step in this article, for example setting up the environment variable containing your Github token on your Travis project.</li>
<li>Your linter throwing an error (if you have one set up)</li>
</ol>
<p>So you can always fix these issues and push your changes to Github.</p>
<!-- -->&lt;br&gt;<!-- -->
<p>Congratulations on deploying your Storybook to Github Pages üéâ</p>
<p>If you have any questions or want to keep in touch, please feel free to follow me on Twitter <a href="https://twitter.com/christo_kade">@christo_kade</a>, I regularly post about JS and CSS there and will always inform you when new articles are out üòÑ</p></div></main></article></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"title":"Automatically deploying your Storybook to Github Pages","description":"Deploy your Storybooks to Github Pages using Travis CI in a matter of minutes.","date":"2019-05-17","slug":"/posts/storybook","isPublished":true},"content":"\n[Storybook](https://storybook.js.org/) is a great tool, it allows you to organize your components into a neat little interface that looks something like [this](https://christopherkade.com/ReactCraft).  \nYou basically create _stories_ that take care of returning the component you want to display to your user.\n\nHere's an example of a story for a React component:\n\n```jsx\n//...\n\nimport { Button } from \"../components/Button\";\n\nstoriesOf(\"Button\", module)\n  .add(\"With text\", () =\u003e \u003cButton\u003eEnter World\u003c/Button\u003e)\n  .add(\"With emojis\", () =\u003e \u003cButton\u003eüî•‚öîÔ∏è\u003c/Button\u003e);\n```\n\nPretty simple stuff, of course, there are many ways of [customizing](https://storybook.js.org/docs/configurations/options-parameter/) your Storybook, from its theme to adding awesome [addons](https://storybook.js.org/docs/addons/addon-gallery/).\n\nBut this article is not an introduction to Storybook, if you want one I truly recommend Emma Wedekind's [\"Documenting React Components With Storybook\"](https://dev.to/emmawedekind/documenting-react-components-with-storybook-4h3b). Today, we'll deploy an existing Storybook to Github Pages like [this one](https://christopherkade.com/ReactCraft) while automating the process at each push on a given branch.\n\n\u003cbr\u003e\u003cbr\u003e\n\n## Setting up Travis CI\n\nTravis CI is a continuous integration service that's used to build and test your software hosted on Github. It's free for open-source projects and will allow us to deploy to Github Pages super easily.\n\nThere are a few steps to follow before we can do all of that:\n\n1. Go to [travis-ci.com](http://travis-ci.com) and Sign up with GitHub.\n2. Accept the Authorization of Travis CI. You‚Äôll be redirected to GitHub.\n3. Click the green Activate button, and select the repository you want to deploy\n4. Generate a personal access token on Github following the short instructions on this [link](https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line) and give it the `public_repo` permissions.\n5. Go to your project's settings on Travis, in the environment variables section, create a `GITHUB_TOKEN` variable and give it the token you've just generated. This token will allow Travis to push to your repository in order to deploy.\n\n\u003cdiv style=\"display: flex; align-items: center; justify-content: center\"\u003e\n\u003cimg width=\"70%\" alt=\"render of the component mentioned\" src=\"https://user-images.githubusercontent.com/15229355/57936079-78135700-78c3-11e9-8735-0aac4881d546.png\"\u003e\n\u003c/div\u003e\n\nWe can now create a `.travis.yml` file at the root of our project and give it the following content:\n\n```yml\n# Tells Travis we're running on a Node environment\nlanguage: \"node_js\"\nnode_js: \"8\"\n\n# Script that is run before the script phase\nbefore_script:\n  - yarn build-storybook\n\n# Deployment information\ndeploy:\n  provider: pages # Tell Travis we want to deploy to Github Pages\n  skip-cleanup: true\n  github-token: $GITHUB_TOKEN # Will take the environment variable you created on step 5\n  local_dir: storybook-static # The folder that needs to be deployed\n  repo: christopherkade/ReactCraft # Add your username/project_name here\n  target_branch: gh-pages # Tell Travis to deploy on the gh-pages branch\n  on:\n    branch: master # Tell Travis to trigger a deploy only when we push to master\n```\n\n\u003e Note: If you wish to trigger the deployment when pushing to a specific branch, feel free to change the `branch: master` section of the configuration file.\n\n\u003cbr\u003e\u003cbr\u003e\n\n## Setting up our Storybook for deployment\n\nWe're almost done, we now need to export our Storybook into a static app. This way Travis will take care of pushing the generated app to our `gh-pages` branch, which will deploy it !\n\nIn your `package.json`, add the following script:\n\n```json\n{\n  \"scripts\": {\n    // ...\n    \"build-storybook\": \"build-storybook -s public\"\n  }\n}\n```\n\nThis script is the one run during our `before_script` phase in our `.travis.yml`. It will generate a `storybook-static` folder at the root of your project containing your website's static instance.\n\n\u003cbr\u003e\u003cbr\u003e\n\n## Deploying your Storybook\n\nWe can now trigger our first deployment üòç\n\nPush your `package.json` and `.travis.yml` files to your repository.  \nIf everything goes according to plan you should see a build being triggered on your Travis dashboard. After a short while (give it a few minutes at first), if your build is shown as successful, you'll find your Storybook under the following URL: username.github.io/project-name.\n\nKeep in mind that a few things might make a build fail:\n\n1. Your tests failing\n2. Forgetting a step in this article, for example setting up the environment variable containing your Github token on your Travis project.\n3. Your linter throwing an error (if you have one set up)\n\nSo you can always fix these issues and push your changes to Github.\n\n\u003cbr\u003e\n\nCongratulations on deploying your Storybook to Github Pages üéâ\n\nIf you have any questions or want to keep in touch, please feel free to follow me on Twitter [@christo_kade](https://twitter.com/christo_kade), I regularly post about JS and CSS there and will always inform you when new articles are out üòÑ\n"},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"storybook"},"buildId":"g4xkI5hjWMZbiaqtZMl4O","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>