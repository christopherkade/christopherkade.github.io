{"pageProps":{"frontmatter":{"title":"Discovering React - The basics","description":"Finally getting my hands dirty and learning the essentials.","date":"2017-11-25","slug":"/posts/intro-reactjs","isPublished":true},"content":"\nAs much as I love the ever-evolving world of web development, I have not taken full advantage of it by discovering two major libraries/frameworks, namely [ReactJS](https://reactjs.org/) and [VueJS](https://vuejs.org/).\n\nI have stuck to Angular for many reasons, one of them being expertise and another comfort. Angular being somewhat opinionated actually made my development process more enjoyable, and seeing that ReactJS is a library that offers many ways to produce one results, I did not feel the need nor the curiosity to delve deeper into it.\n\nBut that has changed, as I truly want to have as many tools as I can on my belt, and feel the need to actually start discovering this extremely popular library. This blog post serves as documentation for my progress, but may help some people to have an approachable structure if they find themselves in a similar situation.\n\n## Installation\n\nI always love this part, so let's head to React's [installation guidelines](https://reactjs.org/docs/installation.html) and get started.\n\nWe're creating an application from scratch, so we'll use the convenient `create-react-app` package. Since we are using `npm` 5.2.0+, we will use `npx`, which will install create-react-app and execute it:\n\n```bash\nnpx create-react-app my-app\n```\n\nWhat does `create-react-app` do?  \n_It sets up your development environment so that you can use the latest JavaScript features, provides a nice developer experience, and optimizes your app for production._\n\nGreat, we now have generated a boilerplate React project, let's try it out:\n\n```bash\ncd my-app\nnpm start\n```\n\nWhich opens up my browser to display:\n\n![](https://user-images.githubusercontent.com/15229355/32899842-efd05c0a-cae3-11e7-8187-759c55cd10fd.png)\n\n## Learning the basics\n\n### JSX\n\nReact uses the Javascript syntax extension called **JSX**, it produces React elements and can embed any Javascript expression when wrapped in curly braces.\n\nThe example given illustrates it rather well:\n\n```javascript\nfunction formatName(user) {\n  return user.firstName + \" \" + user.lastName;\n}\n\nconst user = {\n  firstName: \"Harper\",\n  lastName: \"Perez\",\n};\n\n// JSX element with embedded Javascript\nconst element = <h1>Hello, {formatName(user)}!</h1>;\n\nReactDOM.render(element, document.getElementById(\"root\"));\n```\n\nAfter compilation, JSX becomes regular Javascript objects, therefore we can use it \"inside of if statements and for loops, assign it to variables, accept it as arguments, and return it from functions\" like such:\n\n```javascript\nfunction getGreeting(user) {\n  if (user) {\n    return <h1>Hello, {formatName(user)}!</h1>;\n  }\n  return <h1>Hello, Stranger.</h1>;\n}\n```\n\nNow that's pretty cool, I can already see many use cases where JSX would have been useful in my previous projects.\n\n### Elements\n\nThe concept is very simple to understand, an element defines what we want to see on our screen, just like the one we have defined previously.\n\nTo render an element into the DOM, React uses a **root** DOM node, and will manage every element inside said node.\n\nFor example:\n\n```javascript\nconst element = <h1>Hello, world</h1>;\nReactDOM.render(element, document.getElementById(\"root\"));\n```\n\nSimply renders \"Hello, world\" on the page.\n\nOne thing to remember is that elements are **immutable**, once created, we can't change its children or attributes and the only way to update the UI is to create a new element and pass it to `ReactDOM.render()`.\n\nCheck out this [Codepen example](https://codepen.io/gaearon/pen/gwoJZk?editors=0010) given by the tutorial.\n\n### Components\n\nReact defines components as a way to \"split the UI into independent, reusable pieces, and think about each piece in isolation.\".\n\nAngular offers the component feature, so this shouldn't be too hard to understand and apply.\n\nThe easiest way to define a component is using a Javascript function:\n\n```javascript\nfunction Welcome(props) {\n  return <h1>Hello, {props.name}</h1>;\n}\n```\n\nBut we can also use an ES6 class:\n\n```javascript\nclass Welcome extends React.Component {\n  render() {\n    return <h1>Hello, {this.props.name}</h1>;\n  }\n}\n```\n\nWe can render a component through elements like such:\n\n```javascript\n// props is an arbitrary input that was set in our element\nfunction Welcome(props) {\n  return <h1>Hello, {props.name}</h1>;\n}\n\n// Notice 'name=\"Sara\"' which gives value to our prop\nconst element = <Welcome name=\"Sara\" />;\nReactDOM.render(element, document.getElementById(\"root\"));\n```\n\nThis allows reusability when extracting components.\n\nLastly, something to keep in mind:\n\n> All React components must act like pure functions with respect to their props.\n\n### States\n\nIn React, states are similar to props but are private and fully controlled by the component, but **they may only be used by components defined in a class** (as opposed to a function).\n\nHere is how we can define a state:\n\n```javascript\nclass Clock extends React.Component {\n  // Declare a class constructor and pass props to it\n  // Don't forget to call the base constructor with super(props)\n  constructor(props) {\n    super(props);\n    this.state = { date: new Date() };\n  }\n\n  // Call this.state to access state data\n  render() {\n    return (\n      <div>\n        <h1>Hello, world!</h1>\n        <h2>It is {this.state.date.toLocaleTimeString()}.</h2>\n      </div>\n    );\n  }\n}\n\n// No need to pass any props to our component since we are using states\nReactDOM.render(<Clock />, document.getElementById(\"root\"));\n```\n\nIn order to update a state's value, we may use the following method from within our component (**and only this method**, states may not be accessed directly outside the contructor):\n\n```javascript\nthis.setState({\n  date: new Date(),\n});\n```\n\n### Lifecycle\n\nIt is essential to free up resources when components are destroyed, let's check out how we can do exactly that using React.\n\n**Mounting** is when a component in rendered in the DOM for the first time.  \n**Unmounting** is when the DOM produced by our component is removed.\n\nThe respective methods (known as _lifecycle hooks_) in React are as follows:\n\n```javascript\ncomponentDidMount() {\n\n}\n\ncomponentWillUnmount() {\n\n}\n```\n\nThey are called automatically when the conditions written previously are met.  \nAs simple as it gets !\n\n### Events\n\nEvent handling in React is very simple.\n\n```javascript\n<button onClick={activateLasers}>Activate Lasers</button>\n```\n\nThis example shows two important things:\n\n- React events use camelCase rather than lowercase (`onClick`).\n- With JSX we pass a function rather than a string to our event handler (`{activateLasers}`).\n\nNormally, I should bind my methods called by event handlers, otherwise `this` would be undefined. But we can avoid all of that hassle by using the `public class fields syntax` like such:\n\n```javascript\nclass Button extends React.Component {\n  // This syntax ensures `this` is bound within handleClick.\n  // Warning: this is *experimental* syntax.\n  handleClick = () => {\n    console.log(\"this is:\", this);\n  };\n\n  render() {\n    return <button onClick={this.handleClick}>Click me</button>;\n  }\n}\n```\n\nOtherwise, we would have to do the following in our constructor:\n\n```javascript\nconstructor(props) {\n   super(props);\n   this.state = {isToggleOn: true};\n\n   // This binding is necessary to make `this` work in the callback\n   this.handleClick = this.handleClick.bind(this);\n }\n```\n\nEven though it is experimental, I will lean towards the first option for now as it is enabled with the `Create React App` package we used earlier.\n\nIn order to pass arguments to an event handler, we must do the following:\n\n```javascript\n<button onClick={this.deleteRow.bind(this, id)}>Delete Row</button>\n```\n\nWhere the second argument will always be the synthetic event.\n\n### Conditional Rendering\n\nWhere Angular uses `*ngIf`, React seems to offer something that fits its components design.\n\nA basic example would be:\n\n```javascript\nclass Greet extends Component {\n  // Set our boolean as a state variable\n  constructor(props) {\n    super(props);\n    this.state = { isLoggedIn: false };\n  }\n\n  render() {\n    // If true display one component, otherwise display the other\n    if (this.state.isLoggedIn) {\n      return <UserGreeting />;\n    } else {\n      return <GuestGreeting />;\n    }\n  }\n}\n\nfunction UserGreeting(props) {\n  return <h1>Welcome back!</h1>;\n}\n\nfunction GuestGreeting(props) {\n  return <h1>Please sign up.</h1>;\n}\n\nReactDOM.render(<Greet />, document.getElementById(\"root\"));\n```\n\nNote that there are other ways to evaluate component's rendering such as with **inline If with logical && operator** or **inline If-Else with conditional operator**.\n\nIf we wish to prevent a component from rendering, all we have to do is return `null`.\n\n### Lists and Keys\n\nWhere Angular uses `*ngFor`, React uses the `map` function to generate multiple elements. For example:\n\n```javascript\nconst numbers = [1, 2, 3, 4, 5];\nconst listItems = numbers.map((number) => <li>{number}</li>);\n```\n\n> **Keys** help React identify which items have changed, are added, or are removed.\n\nWe should give them to the elements inside the array to give them a stabe identity. For example:\n\n```javascript\nconst numbers = [1, 2, 3, 4, 5];\nconst listItems = numbers.map((number) => (\n  <li key={number.toString()}>{number}</li>\n));\n```\n\n> A good rule of thumb is that elements inside the map() call need keys.\n\n## Thoughts so far\n\nReact's concepts seem somewhat odd and will take time to get accustomed to, but it seems worth it as there are many advantages in their design.\n\nWe haven't seen everything that React has to offer, we still need to go through some notions such as **forms** and **lifting state up**. I will try to document them very soon.\n\nThanks for reading,  \n[@christo_kade](https://twitter.com/christo_kade)\n"},"__N_SSG":true}