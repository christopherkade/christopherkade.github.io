{"pageProps":{"frontmatter":{"title":"Styled components: what, why and how?","description":"A great way of styling your React projects.","date":"2019-05-14","slug":"/styled-components","isPublished":true},"content":"\n[Styled Components](https://www.styled-components.com/) are a way of styling your React components using CSS **and** the advantages offered by ES6, they are best explained by the official docs:\n\n> Utilising tagged template literals (a recent addition to JavaScript) and the power of CSS, styled-components allows you to write actual CSS code to style your components. It also removes the mapping between components and styles ‚Äì using components as a low-level styling construct could not be easier!\n\n### Here's what we'll cover today:\n\n- [What are styled components?](#introduction)\n- [Advantages](#advantages)\n- [Disadvantages](#disadvantages)\n- [A concrete exercise](#example)\n- [Good documentation](#documentation)\n\n<br><br>\n\n## <a name=\"introduction\"></a> What are styled components?\n\nHere's an example of a styled component:\n\n```jsx\nimport styled from \"styled-components\";\n\n// Creates a StyledButton component of a button with the given style\nconst StyledButton = styled.button`\n  background-color: #710504;\n  color: #ffc700;\n  border: 2px solid #6a686a;\n\n  &:hover {\n    cursor: pointer;\n    color: white;\n  }\n`;\n\n// StyledButton can now be used like any other component\nconst Button = ({ children, onClick }) => {\n  return <StyledButton onClick={onClick}>{children}</StyledButton>;\n};\n```\n\nAs you can see, they are React components like the one's you've known until now. They are created by calling `styled` and invoking a method with the name of the HTML tag you wish to use while passing it its styles. Here's a [full list](https://github.com/styled-components/styled-components/blob/v3.3.3/src/utils/domElements.js#L4) of the available tags).\n\n> `styled.button` is just a shortcut for `styled('button')`, this is an ES6 feature called [tagged templates](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Tagged_templates) üòÑ\n\nOne of the best things about styled components is the fact that you can adapt your styles based on your component's props, for example:\n\n```jsx\n// https://www.styled-components.com/docs/basics#adapting-based-on-props\n\nconst StyledButton = styled.button`\n  background: ${(props) => (props.primary ? \"palevioletred\" : \"white\")};\n  color: ${(props) => (props.primary ? \"white\" : \"palevioletred\")};\n`;\n\nrender(\n  <div>\n    <Button>Normal</Button>\n    <Button primary>Primary</Button>\n  </div>\n);\n```\n\n<br><br>\n\n## <a name=\"advantages\"></a> Advantages\n\n<br>\n\n### Reusable components\n\nStyled components allow us to create components that are extremely easy to reuse as they directly contain their style values.\n\nSo the following JSX:\n\n```jsx\n<h1 className=\"title\">Christopher Kade</h1>\n```\n\nCan be translated in the following component:\n\n```jsx\nconst Title = styled.h1`\n  color: white;\n  font-size: 3rem;\n`;\n```\n\nAnd can be used like so:\n\n```jsx\n<Title>Christopher Kade</Title>\n```\n\nWhich removes the need for a mapping between components and their respective CSS and making style an integral part of each component.\n\n<br>\n\n### Scoped styles\n\nCSS is global by nature, David Khourshid puts it really well:\n\n> You ever stop and think about why CSS has a global scope? Maybe we want to use consistent typography, colors, sizing, spacing, layout, transitions, etc. and have our websites & apps feel like one cohesive unit?\n\nAnd yet its very nature is something that is often disliked by many people, as changing a value somewhere can \"break\" something elsewhere. That's where CSS scoping comes into play.\n\nCSS scoping allows us to avoid these issues by limiting the impact of CSS to its component, and styled components are no exception.\n\nScoped styles make maintenance painless, where you won't have to hunt across multiple files for that one piece of CSS that's messing up your view.\n\n<br>\n\n### Easily create dynamic CSS\n\nI already mentioned how styled components allow you to use a component's props to dynamically set style values.\n\nFor example, I'm currently working on a [side project](https://christopherkade.com/ReactCraft) where I'm building a component library based on World of Warcraft's UI, I have a `ProgressBar` component with a default size and a percent of completion that can be changed with a prop, like so:\n\n```jsx\n<ProgressBar text=\"Loading...\" percent={25} width={500} />\n```\n\nI would then set the bar's size and advancement in styled components like so:\n\n```jsx\n// Set the bar's width based on the width prop\nconst Wrapper = styled.div`\n  width: ${(props) => props.width}px;\n  // ...\n`;\n\n// Set the bar's advancement based on the percent prop\nconst Bar = styled.div`\n  width: ${(props) => props.percent}%;\n  // ...\n`;\n\nconst Label = styled.span`\n  // ...\n`;\n\nconst ProgressBar = ({ width, text, percent }) => {\n  return (\n    <Wrapper width={width}>\n      <Label>{text}</Label>\n      <Bar percent={percent} />\n    </Wrapper>\n  );\n};\n```\n\n<br>\n\n### Support for server-side rendering\n\nSSR is widely used, especially thanks to tools such as [Next](https://nextjs.org/), [Gatsby](https://www.gatsbyjs.org/) or [Nuxt](https://nuxtjs.org/) so the styled components team made sure to support this feature with a concept called stylesheet rehydration.\n\n> The basic idea is that everytime you render your app on the server, you can create a ServerStyleSheet and add a provider to your React tree, that accepts styles via a context API.\n\n> This doesn't interfere with global styles, such as keyframes or createGlobalStyle and allows you to use styled-components with React DOM's various SSR APIs.\n\nMore information on the [official docs](https://www.styled-components.com/docs/advanced/#server-side-rendering).\n\n<br>\n\n### Performance improvements\n\nStyled components keep track of which components are rendered on a given page and inject their styles and **nothing else**. This means your user loads the least amount of styles necessary for a given component.\n\n<br>\n\n### Other advantages\n\nOther advantages include native mobile support and unit/snapshot testing tools but I believe these three might be the most essential to keep in mind.\n\n<br><br>\n\n## <a name=\"disadvantages\"></a> Disadvantages\n\n<br>\n\n### Learning curve\n\nStyled components take some time to get used to, their syntax and the new way of thinking they introduce will require some patience but the payoff is worth it in my opinion.\n\n<br>\n\n### A smaller community\n\nAt the time of writing this article, the styled components repository has 23k ‚≠êon [Github](https://github.com/styled-components/styled-components). Despite that, getting fast support may be tough some times. Although I haven't truly encountered situations where I could not find any solutions to a given problem.\n\n<br>\n\n### Longevity\n\nJust like any tool in the JS ecosystem, styled components may disappear one day, which would involve refactoring your code base. So it's important to keep that in mind before committing to it in production.\n\n<br><br>\n\n## <a name=\"example\"></a> A concrete exercise\n\n> Note: In order to do this exercise, you will need a good grasp of both CSS and React.\n\nAlright, let's get our hands dirty.\n\nOpen up [codesandbox](https://codesandbox.io/s/), select the `create-react-app` starter and import the `styled-components` dependency.\n\nWe'll create a very simple layout displaying a navbar and cards, each step of the exercise will be composed of a component to create (with its associated styled components). Try to code them from scratch and once you are done (or end up stuck), feel free to click on the \"Result\" buttons to see the resulting code !\n\n<div style=\"display: flex; align-items: center; justify-content: center\">\n<img width=\"50%\" alt=\"\" src=\"https://user-images.githubusercontent.com/15229355/57724548-5465cc00-768b-11e9-8425-b09cdf8d9d4e.png\">\n</div>\n\nThe resulting code can be found [here](https://codesandbox.io/s/7k93lz791j).\n\n<br>\n\n### 1. The Navbar component\n\nThis component will simply contain 3 links on its right and be displayed at the top of our view.\n\nStart by creating a `Navbar.js` file under `/src/components/`.\nImport both react and styled from `React` and `styled-components` respectively. Finally, create and export a `Navbar` component that doesn't return anything yet.\n\n<details>\n  <summary>Result</summary>\n\n```jsx\n// Navbar.js\n\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nconst Navbar = () => {\n  return (\n\n  );\n};\n\nexport default Navbar;\n```\n\n</details>\n\nWe now want to create a `Wrapper` styled component that will wrap around our links. Make sure to set its styles, including `flexbox` in order to align your items at the end of the container.  \nFinally, make sure that your `Navbar` component returns the `Wrapper`.\n\n<details>\n  <summary>Result</summary>\n\n```jsx\n// Navbar.js\n\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  background-color: #424651;\n  height: 3rem;\n`;\n\nconst Navbar = () => {\n  return <Wrapper></Wrapper>;\n};\n\nexport default Navbar;\n```\n\n</details>\n\nNext up, we want to create a styled component that will take care of displaying our links. Create `NavbarItem` using the `a` tag, don't forget to set its `:hover` style !\n\n<details>\n  <summary>Result</summary>\n\n```jsx\n// Navbar.js\n\n// ...\n\nconst NavbarItem = styled.a`\n  font-size: 1rem;\n  margin-right: 1rem;\n  color: white;\n\n  &:hover {\n    opacity: 0.5;\n    cursor: pointer;\n  }\n`;\n\nconst Navbar = () => {\n  return (\n    <Wrapper>\n      <NavbarItem>Home</NavbarItem>\n      <NavbarItem>About</NavbarItem>\n      <NavbarItem>Contact</NavbarItem>\n    </Wrapper>\n  );\n};\n\n//...\n```\n\n</details>\n\nAlright ! You've created the `Navbar` component from scratch, the thought process behind styled components may seem a bit hard to grasp at first, but it'll get more and more intuitive after each step.\n\nLet's now create our card-related elements üòÉ\n\n<br>\n\n### 2. The CardList component\n\nLet's create a `CardList` component that will contain our cards.\n\n`CardList` will take the form of a simple `Wrapper` component and will `.map` through a list of data (you may use a `.json` file containing an array of blog posts for example) and render each card.\n\nStart by creating the `CardList` component returning a `Wrapper` styled component, don't forget to use `flexbox` to have a nice layout.\n\n<details>\n  <summary>Result</summary>\n\n```jsx\n// CardList.js\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nimport data from \"../data\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nconst CardList = () => {\n  return <Wrapper></Wrapper>;\n};\n\nexport default CardList;\n```\n\n</details>\n\nWe'll come back to this component once our `Card` component is done.\n\n<br>\n\n### 3. The Card component\n\nThe `Card` component will receive props in the form of its title and description and will be composed of 3 styled components: `Title`, `Description` and a `Wrapper`.\n\nGo ahead and create it, giving it any style you want. I personally made sure to use `flexbox` for my wrapper in order to display each card's content as a column. ü§∑‚Äç‚ôÇÔ∏è\n\n<details>\n<summary>Result</summary>\n\n```jsx\n// Card.js\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 250px;\n  height: 250px;\n  background-color: #c4b2a9;\n  border-radius: 4px;\n  padding: 1rem;\n  margin: 1rem;\n\n  &:hover {\n    opacity: 0.5;\n    cursor: pointer;\n  }\n`;\n\nconst Title = styled.h1`\n  font-size: 2rem;\n  font-weight: 300;\n  margin: 1rem;\n  color: white;\n`;\n\nconst Description = styled.p`\n  color: white;\n`;\n\nconst Card = ({ title, description }) => {\n  return (\n    <Wrapper>\n      <Title>{title}</Title>\n      <Description>{description}</Description>\n    </Wrapper>\n  );\n};\n\nexport default Card;\n```\n\n</details>\n\nLet's now go back to `CardList` and make sure to render our newly created component through a `.map` of our data.\n\n<details>\n<summary>Result</summary>\n\n```jsx\n// CardList.js\n\n// ...\n\n// data is simply an imported .json file containing an \"articles\" array\nconst CardList = () => {\n  return (\n    <>\n      <Wrapper>\n        {data.articles.map((article) => (\n          <Card title={article.title} description={article.description} />\n        ))}\n      </Wrapper>\n    </>\n  );\n};\n// ...\n```\n\n</details>\n\n<br>\n\n### Bonus: using styled-component's dynamic styling\n\nTo go a bit further, let's create a `Title` styled component that will be used in both our `Card` and `CardList` components. For example, we could display the article's title in the former and \"List of articles\" in the latter using the same component !  \nBut there's a twist: it should be displayed in white in our cards and black in our card list.\n\nHint: use props to conditionally set our color in the `Title` styled component !\n\n<details>\n  <summary>Result</summary>\n\n```jsx\n// Title.js\nimport React from \"react\";\nimport styled from \"styled-components\";\n\nconst Title = styled.h1`\n  font-size: 2rem;\n  font-weight: 300;\n  margin: 1rem;\n  color: ${(props) => (props.main ? \"black\" : \"white\")};\n`;\n\nexport default Title;\n```\n\n```jsx\n// CardList.js\n\n// ...\nconst CardList = () => {\n  return (\n    <>\n      <Title main>List of articles</Title>\n      <Wrapper>\n        {data.articles.map((article) => (\n          <Card title={article.title} description={article.description} />\n        ))}\n      </Wrapper>\n    </>\n  );\n};\n\n// ...\n```\n\n</details>\n\n<br>\n\nCongratulations, you've created a layout using styled components ! üéâ\n\n<br><br>\n\n## <a name=\"documentation\"></a> Good documentation\n\nIf you want to learn how styled components work under the hood, you should definitely check out this article by Eugene Gluhotorenko: [link](https://medium.com/styled-components/how-styled-components-works-618a69970421).\n\nThis great introductory article by Robin Wieruch: [link](https://www.robinwieruch.de/react-styled-components/).\n\nBut of course, nothing beats the official documentation: [link](https://www.styled-components.com/docs).\n\n<br><br>\n\n## Wrapping up\n\nI've been increasingly using styled components in my React projects and have found them super intuitive and elegant. I hope this article will push some of you to start using them üòÑ\n\nAs usual, if you have any questions or just want to chat about JS & CSS feel free to hit me up on Twitter [@christo_kade](https://twitter.com/christo_kade) !\n"},"__N_SSG":true}