{"pageProps":{"frontmatter":{"title":"Rewriting my website using NuxtJS","description":"What it is, why it rocks, how I did it.","date":"2018-10-10","slug":"/posts/website-nuxt","isPublished":true},"content":"\nA few days ago I published the latest version of my website, completely redone using [NuxtJS](https://nuxtjs.org/).\n\nYou're probably saying to yourself, \"Why Chris, why rewrite your website AGAIN?\", and I hear you dear reader, I truly do, but please keep on reading as I'll explain my reasoning as best I can.\n\nThis article will explore the following topics:\n\n- What is NuxtJS?\n- Why use Nuxt in this scenario?\n- How I integrated my blog directly to my website\n\n<br><br>\n\n## What is NuxtJS?\n\nTo quote the official doc,\n\n> Its main scope is UI rendering while abstracting away the client/server distribution.  \n> Our goal is to create a framework flexible enough that you can use it as a main project base or in addition to your current project based on Node.js.  \n> Nuxt.js presets all the configuration needed to make your development of a Vue.js Application Server Rendered more enjoyable.\n\nIn other words, Nuxt uses:\n\n- Vue 2\n- Vue Router\n- Vuex\n- Vue Server Renderer\n- vue-meta\n- webpack\n\nAnd some other tools in order to facilitate the development of your Vue application.\n\nAll of this for a total of only **57 kb** min+gzip.\n\n<br><br>\n\n## Why use NuxtJS for my website?\n\nOh boy, where to begin, it all started with a project at work that made me discover the power of this framework, especially the following points:\n\n- Automatic route generation\n- Server-side rendering\n- Static file serving\n- The ease of pre-processor use (Sass namely)\n- Useful commands such as [nuxt generate\u001c](https://nuxtjs.org/api/configuration-generate/)\n\nAnd many, many other quality of life improvements.\n\nBut a very prevalent reason was my wish to integrate my blog directly to my project's repository, by serving my markdown articles via automatically generated routes (just like this one!).\n\n<br><br>\n\n## How I integrated my blog directly to my website\n\nA few weeks ago I still had a blog generated by [Jekyll](https://jekyllrb.com/) and served on blog.christopherkade.com, which meant a less hands-on approach to the design and utilization of the blog itself.  \nFrom there came the idea of having my blog directly here, with articles in the same repository as my website and served directly using the markdown format.\n\n<br>\n\n#### Step 1: Set up the articles\n\nMy articles can be found in the `/static/articles/*.md` folder, and will be served directly from there.\n\n<br>\n\n#### Step 2: Automatically generate routes based on the articles\n\nCheck out the current URL, it should be `christopherkade.com/blog/website-nuxt`, this route is automatically generated based on the article's file name. Here's how I did it:\n\n```js\n// nuxt.config.js\nconst glob = require('glob')\n\nlet files = []\n\nglob('static/articles/*.md', function(err, output) {\n  files = output\n})\n\nfunction getSlugs(post, _) {\n  let slug = post.substr(0, post.lastIndexOf('.'))\n  return `/blog/${slug}`\n}\n\nmodule.exports = {\n    ...,\n    generate: {\n        routes: function() {\n            return files.map(getSlugs)\n        }\n  },\n}\n```\n\n<br>\n\n#### Step 3: Handle the markdown format\n\nTo do so, Nuxt has a very practical module called [markdownit](https://github.com/nuxt-community/modules/tree/master/packages/markdownit).\n\nTo use it, start by installing it like so:\n\n`npm install @nuxtjs/markdownit`\n\nThen add it to Nuxt's configuration file as a module:\n\n```js\nmodule.exports = {\n    ...,\n    modules: [\n        ['@nuxtjs/markdownit', { linkify: true }]\n    ],\n}\n```\n\n<br>\n\n#### Step 4: Create the pages that will display the articles\n\nNuxt generates automatically your routes based on the files in the `pages` folder.\n\nKnowing that, start by creating a `blog` folder under `pages` that will contain the following:\n\n```\n+-- blog\n|   +-- _slug\n|       +-- index.vue // The page that displays a single article selected\n|   +-- index.vue     // The page that lists all my articles\n```\n\nThe base `index.vue` will display our list of articles that can be found [here](https://christopherkade.com/blog/). Whereas the `index.vue`'s route inside the `_slug` folder will be given the name of the article selected (as generated in part 2) and will display its content like so:\n\n```html\n<!-- pages/blog/_slug/index.vue -->\n<template>\n  <div :key=\"$route.params.slug\" class=\"articleSlug\">\n    <div class=\"container\">\n      <div v-html=\"file\" class=\"content\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    computed: {\n      file() {\n        const fileContent = require(`~/static/articles/${this.$route.params.slug}.md`);\n        return fileContent;\n      },\n    },\n  };\n</script>\n```\n\nAnd that should be enough ! Navigate to `/blog/article-name` and your `.md` document should be displayed proudly on your page ! Easy, wasn't it?\n\nI hope this article was useful to some of you,\n\nUntil next time,  \nHave a good one :-)  \n[@christo_kade](https://twitter.com/christo_kade)\n"},"__N_SSG":true}